<form [formGroup]="fileUploadForm" (ngSubmit)="onSubmit()">
  <div class="form-group" formArrayName="files" *ngFor="let file of files.controls; let i = index;">
    <div class="form-row">
      <div class="col">
        <div class="custom-file">
          <input
            type="file"
            class="custom-file-input"
            id="file"
            [formControlName]="i"
            required
          >
          <label class="custom-file-label" for="file">{{ file.value || 'Valitse tiedosto' }}</label>
        </div>
      </div>

      <div class="col-auto">
        <button type="button" class="btn btn-danger" (click)="removeFile(i)">Poista</button>
      </div>
    </div>
  </div>

  <div class="form-group">
    <button type="button" class="btn btn-primary" (click)="addFile()">Lisää uusi tiedosto</button>
  </div>

  <button
    type="submit"
    class="btn btn-blue"
    [disabled]="!fileUploadForm.valid"
  >{{ 'forms.common.next' | translate }}</button>
</form>
