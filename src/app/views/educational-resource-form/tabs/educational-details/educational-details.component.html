<form [formGroup]="educationalDetailsForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="educationalLevels">{{ 'forms.educationalResource.educationalDetails.educationalLevels.label' | translate }}*</label>

    <button
      type="button"
      class="btn btn-link"
      [tooltip]="'forms.educationalResource.educationalDetails.educationalLevels.tooltip' | translate"
    ><img src="assets/img/icons/ic_help.svg" alt=""></button>

    <ng-select
      [items]="educationalLevels$"
      [multiple]="true"
      [closeOnSelect]="false"
      bindLabel="value"
      groupBy="children"
      appendTo="body"
      id="educationalLevels"
      formControlName="educationalLevels"
      (change)="educationalLevelsChange($event)"
    >
      <ng-template ng-optgroup-tmp let-item="item">
        {{ item.value }}
      </ng-template>
      <ng-template ng-option-tmp let-item="item">
        {{ item.value }}
      </ng-template>
    </ng-select>
  </div>

  <ng-container *ngIf="hasEarlyChildhoodEducation">
    <h3>{{ 'forms.educationalResource.educationalDetails.earlyChildhoodEducation.title' | translate }}</h3>

    <div class="form-group">
      <label for="earlyChildhoodEducationSubjects">{{ 'forms.educationalResource.educationalDetails.earlyChildhoodEducation.inputs.subjects.label' | translate }}</label>

      <ng-select
        [items]="[]"
        [multiple]="true"
        [addTag]="addEarlyChildhoodEducationSubject"
        bindLabel="targetName"
        appendTo="body"
        id="earlyChildhoodEducationSubjects"
        formControlName="earlyChildhoodEducationSubjects"
      ></ng-select>
    </div>

    <div class="form-group">
      <label for="earlyChildhoodEducationFramework">{{ 'forms.educationalResource.educationalDetails.earlyChildhoodEducation.inputs.framework.label' | translate }}</label>

      <input
        type="text"
        class="form-control"
        id="earlyChildhoodEducationFramework"
        formControlName="earlyChildhoodEducationFramework"
      >
    </div>
  </ng-container>

  <ng-container *ngIf="hasPrePrimaryEducation">
    <h3>{{ 'forms.educationalResource.educationalDetails.prePrimaryEducation.title' | translate }}</h3>

    <div class="form-group">
      <label for="prePrimaryEducationSubjects">{{ 'forms.educationalResource.educationalDetails.prePrimaryEducation.inputs.subjects.label' | translate }}</label>

      <ng-select
        [items]="[]"
        [multiple]="true"
        [addTag]="addPrePrimaryEducationSubject"
        bindLabel="targetName"
        appendTo="body"
        id="prePrimaryEducationSubjects"
        formControlName="prePrimaryEducationSubjects"
      ></ng-select>
    </div>

    <div class="form-group">
      <label for="prePrimaryEducationFramework">{{ 'forms.educationalResource.educationalDetails.prePrimaryEducation.inputs.framework.label' | translate }}</label>

      <input
        type="text"
        class="form-control"
        id="prePrimaryEducationFramework"
        formControlName="prePrimaryEducationFramework"
      >
    </div>
  </ng-container>

  <div class="form-group" *ngIf="hasBasicStudies">
    <h3>{{ 'forms.educationalResource.educationalDetails.basicEducation.title' | translate }}</h3>

    <label for="basicStudySubjects">{{ 'forms.educationalResource.educationalDetails.basicEducation.inputs.subjects.label' | translate }}</label>

    <ng-select
      [items]="basicStudySubjects$"
      [multiple]="true"
      [closeOnSelect]="false"
      bindLabel="targetName"
      groupBy="children"
      appendTo="body"
      id="basicStudySubjects"
      formControlName="basicStudySubjects"
      (change)="basicStudySubjectsChange($event)"
    >
      <ng-template ng-optgroup-tmp let-item="item">
        {{ item.targetName }}
      </ng-template>
      <ng-template ng-option-tmp let-item="item">
        {{ item.targetName }}
      </ng-template>
    </ng-select>
  </div>

  <ng-container *ngIf="hasBasicStudySubjects">
    <div class="form-group">
      <label for="basicStudyFramework">{{ 'forms.educationalResource.educationalDetails.basicEducation.inputs.framework.label' | translate }}</label>

      <input
        class="form-control"
        id="basicStudyFramework"
        formControlName="basicStudyFramework"
      >
    </div>

    <!--<div class="form-group">
      <label for="basicStudyObjectives">{{ 'forms.educationalResource.educationalDetails.basicEducation.inputs.objectives.label' | translate }}</label>

      <ng-select
        [items]="basicStudyObjectives$"
        [multiple]="true"
        [closeOnSelect]="false"
        bindLabel="targetName"
        groupBy="gradeEntity"
        appendTo="body"
        id="basicStudyObjectives"
        formControlName="basicStudyObjectives"
      ></ng-select>
    </div>

    <div class="form-group">
      <label for="basicStudyContents">{{ 'forms.educationalResource.educationalDetails.basicEducation.inputs.contents.label' | translate }}</label>

      <ng-select
        [items]="basicStudyContents$"
        [multiple]="true"
        [closeOnSelect]="false"
        bindLabel="targetName"
        groupBy="gradeEntity"
        appendTo="body"
        id="basicStudyContents"
        formControlName="basicStudyContents"
      ></ng-select>
    </div>-->
  </ng-container>

  <ng-container *ngIf="hasUpperSecondarySchool">
    <h3>{{ 'forms.educationalResource.educationalDetails.upperSecondarySchoolEducation.title' | translate }}</h3>

    <div class="form-group">
      <label for="upperSecondarySchoolSubjects">{{ 'forms.educationalResource.educationalDetails.upperSecondarySchoolEducation.inputs.subjects.label' | translate }}</label>

      <ng-select
        [items]="upperSecondarySchoolSubjects$"
        [multiple]="true"
        [closeOnSelect]="false"
        bindLabel="targetName"
        appendTo="body"
        id="upperSecondarySchoolSubjects"
        formControlName="upperSecondarySchoolSubjects"
      ></ng-select>
    </div>

    <div class="form-group">
      <label for="upperSecondarySchoolFramework">{{ 'forms.educationalResource.educationalDetails.upperSecondarySchoolEducation.inputs.framework.label' | translate }}</label>

      <input
        type="text"
        class="form-control"
        id="upperSecondarySchoolFramework"
        formControlName="upperSecondarySchoolFramework"
      >
    </div>
  </ng-container>

  <ng-container *ngIf="hasVocationalDegree">
    <div class="form-group">
      <h3>{{ 'forms.educationalResource.educationalDetails.vocationalEducation.title' | translate }}</h3>

      <label for="vocationalDegrees">{{ 'forms.educationalResource.educationalDetails.vocationalEducation.inputs.degrees.label' | translate }}</label>

      <ng-select
        [items]="vocationalDegrees$"
        [multiple]="true"
        [closeOnSelect]="false"
        bindLabel="value"
        appendTo="body"
        id="vocationalDegrees"
        formControlName="vocationalDegrees"
      ></ng-select>
    </div>

    <div class="form-group">
      <label for="vocationalEducationFramework">{{ 'forms.educationalResource.educationalDetails.vocationalEducation.inputs.framework.label' | translate }}</label>

      <ng-select
        [items]="[]"
        [multiple]="true"
        [addTag]="addCustomItem"
        bindLabel="value"
        appendTo="body"
        id="vocationalEducationFramework"
        formControlName="vocationalEducationFramework"
      ></ng-select>
    </div>
  </ng-container>

  <div class="form-group" *ngIf="hasSelfMotivatedEducation">
    <h3>{{ 'forms.educationalResource.educationalDetails.selfMotivatedEducation.title' | translate }}</h3>

    <label for="selfMotivatedEducationSubjects">{{ 'forms.educationalResource.educationalDetails.selfMotivatedEducation.inputs.subjects.label' | translate }}</label>

    <ng-select
      [items]="[]"
      [multiple]="true"
      [addTag]="addCustomItem"
      bindLabel="value"
      appendTo="body"
      id="selfMotivatedEducationSubjects"
      formControlName="selfMotivatedEducationSubjects"
    ></ng-select>
  </div>

  <ng-container *ngIf="hasHigherEducation">
    <h3>{{ 'forms.educationalResource.educationalDetails.higherEducation.title' | translate }}</h3>

    <div class="form-group">
      <label for="branchesOfScience">{{ 'forms.educationalResource.educationalDetails.higherEducation.inputs.branchesOfScience.label' | translate }}</label>

      <ng-select
        [items]="branchesOfScience$"
        [multiple]="true"
        [closeOnSelect]="false"
        [selectableGroup]="true"
        [selectableGroupAsModel]="false"
        groupBy="children"
        bindLabel="value"
        appendTo="body"
        id="branchesOfScience"
        formControlName="branchesOfScience"
      >
        <ng-template ng-optgroup-tmp let-item="item">
          {{ item.value }}
        </ng-template>
        <ng-template ng-option-tmp let-item="item">
          {{ item.value }}
        </ng-template>
      </ng-select>
    </div>

    <div class="form-group">
      <label for="scienceBranchObjectives">{{ 'forms.educationalResource.educationalDetails.higherEducation.inputs.objectives.label' | translate }}</label>

      <ng-select
        [items]="[]"
        [multiple]="true"
        [addTag]="addCustomItem"
        bindLabel="value"
        appendTo="body"
        id="scienceBranchObjectives"
        formControlName="scienceBranchObjectives"
      >
      </ng-select>
    </div>

    <div class="form-group">
      <label for="higherEducationFramework">{{ 'forms.educationalResource.educationalDetails.higherEducation.inputs.framework.label' | translate }}</label>

      <ng-select
        [items]="[]"
        [multiple]="true"
        [addTag]="addCustomItem"
        bindLabel="value"
        appendTo="body"
        id="higherEducationFramework"
        formControlName="higherEducationFramework"
      >
      </ng-select>
    </div>
  </ng-container>

  <div class="row">
    <div class="col">
      <button
        type="button"
        class="btn btn-gray"
        (click)="previousTab()"
      >{{ 'forms.common.previous' | translate }}</button>
    </div>

    <div class="col-auto">
      <button
        type="reset"
        class="btn btn-cancel"
        (click)="resetForm()"
      >{{ 'forms.common.abort' | translate }}</button>
    </div>

    <div class="col-auto">
      <button
        type="submit"
        class="btn btn-blue"
        [disabled]="educationalDetailsForm?.invalid"
      >{{ 'forms.common.next' | translate }}</button>
    </div>
  </div>
</form>
